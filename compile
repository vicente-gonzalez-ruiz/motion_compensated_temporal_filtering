# The MCTF project has been supported by the Junta de Andaluc√≠a through
# the Proyecto Motriz "Codificaci√≥n de V√≠deo Escalable y su Streaming
# sobre Internet" (P10-TIC-6548).


#!/bin/bash
set -x

if [ ! -e $PWD/bin ]; then
    mkdir ./bin
fi

read dirs << EOF
$PATH
EOF

IFS=:
# $PWD/bin insertion in the PATH variable, if it does not exist

contains_bin=0
for dir in $dirs; do
    if [ "$dir" = "$PWD/bin" ]; then
        contains_bin=1
    fi
done

IFS=

if [ $contains_bin = 0 ]; then
    PATH=$PWD/bin:$PATH
fi
# End of $PWD/bin insertion in the PATH variable

make -C src
export MCTF=$PWD

cat <<EOF
[0;32m
This script defines the shell variable MCTF as:

export MCTF=$MCTF

If needed, include this variable in your $HOME/.bashrc file for
futher references.
[1;0m
EOF

set +x
